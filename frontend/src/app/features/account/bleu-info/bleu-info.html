<div class="flex flex-column gap-4 p-4">
  <!-- Header / Breadcrumb -->
  <p-toolbar class="shadow-2 border-round-2xl">
    <div class="p-toolbar-group-left flex align-items-center gap-3">
      <i class="pi pi-info-circle text-xl"></i>
      <div class="text-xl font-semibold">Bleu Info</div>
<!--      <p-tag *ngIf="user?.role" [value]="user.role" severity="info" rounded></p-tag>-->
      <p-tag [value]="'user.role'" severity="info" rounded></p-tag>
    </div>
    <div class="p-toolbar-group-right flex align-items-center gap-2">
      <button pButton type="button" label="Actualiser" icon="pi pi-refresh" class="p-button-text"></button>
      <button pButton type="button" label="Exporter" icon="pi pi-download" class="p-button-text"></button>
    </div>
  </p-toolbar>

  <!-- Profile Card -->
  <p-card class="border-round-2xl shadow-2">
    <div class="flex flex-column md:flex-row align-items-center gap-4">
<!--      <p-overlayBadge [value]="'user?.scoreDelta'" [severity]="(user?.scoreDelta ?? 0) >= 0 ? 'success' : 'danger'" class="inline-flex">-->
<!--      <p-overlayBadge [value]="'5'" [severity]="'warn'" class="inline-flex">-->
        <p-avatar
          [image]="'https://primefaces.org/cdn/primeng/images/demo/avatar/elwinsharvill.png'"
          shape="circle"
          size="xlarge"
          style="width: 160px; height: 160px; font-size: 5rem;"
        ></p-avatar>
<!--      </p-overlayBadge>-->

      <div class="flex flex-row gap-2">
          <p-tag [value]="'Score ' + '-3'" severity="warn" icon="pi pi-star"></p-tag>
          <p-tag [value]="'Entr. ' + 'ok'" severity="success" icon="pi pi-trophy"></p-tag>
          <p-tag [value]="'Prés. ' + '2/2'" severity="success" icon="pi pi-book"></p-tag>
      </div>

      <div class="flex-1 w-full">
        <div class="flex flex-column md:flex-row md:align-items-center md:justify-content-between gap-3">
          <div class="flex flex-column">
            <div class="text-2xl font-semibold"><i class="pi pi-at font-semibold"></i>{{ 'user?.nickname' }}</div>
            <div class="text-xs text-color-secondary">{{ 'user?.lastName' }}, {{ 'user?.firstName' }}</div>
            <div class="mt-2 flex align-items-center gap-2">
<!--              <p-rating [(ngModel)]="'user.rating'" [cancel]="false" [stars]="5"></p-rating>-->
              <p-rating [stars]="maxStars"
                        [ngModel]="maxStars - redValue"
                        [readonly]="true">
                <ng-template pTemplate="officon">
                  <i class="pi pi-star-fill text-red-500"></i>
                </ng-template>
                <ng-template pTemplate="onicon">
                  <i class="pi pi-star text-red-500"></i>
                </ng-template>
              </p-rating>
              |
              <p-rating [stars]="maxStars"
                        [(ngModel)]="greenValue"
                        [readonly]="true"
                        class="">
                <ng-template pTemplate="onicon">
                  <i class="pi pi-star-fill text-green-500"></i>
                </ng-template>
                <ng-template pTemplate="officon">
                  <i class="pi pi-star text-green-500"></i>
                </ng-template>
              </p-rating>

<!--              <p-badge [value]="user.rating | number:'1.0-1'" severity="warning"></p-badge>-->
<!--              <p-badge [value]="'-2'" [severity]="'warn'"></p-badge>-->
<!--              <p-tag [value]="user?.rank ?? 'Bleu'" severity="warning" icon="pi pi-star"></p-tag>-->
<!--              <p-tag [value]="'Bleu'" severity="warn" icon="pi pi-star"></p-tag>-->
            </div>
          </div>
        </div>

        <!-- Quick stats -->
        <h3 class="text-3xl font-semibold mt-8">Statistiques</h3>
        <p-table [value]="stats" class="m-0" [tableStyle]="{ 'min-width': '8rem' }">
          <ng-template pTemplate="body" let-rowData >
            <tr>
              <td>{{ rowData.name }}</td>
              <td>{{ rowData.value }}</td>
            </tr>
          </ng-template>
        </p-table>

        <!-- Commentaires -->
        <h3 class="text-3xl font-semibold mt-8">Commentaires</h3>
        <div class="flex flex-column w-full gap-3">
          <div *ngFor="let comment of comments">
            <p-card [style.background]="comment.bgColor">
              <div class="flex flex-column">
                <div class="flex align-items-center mb-2">
                  <i class="pi pi-user mr-2" [ngClass]="comment.iconSeverity"></i>
                  <span class="font-semibold">{{ comment.author }}</span>
                </div>
                <div class="text-color-secondary">
                  {{ comment.content }}
                </div>
              </div>
            </p-card>
          </div>
        </div>
<!--        <div class="grid mt-4">-->
<!--          <div class="col-12 md:col-3">-->
<!--            <p-card class="h-full">-->
<!--              <div class="flex align-items-center justify-content-between">-->
<!--                <div>-->
<!--                  <div class="text-sm text-color-secondary">Présentations</div>-->
<!--                  <div class="text-2xl font-semibold">{{ 'stats.presented' }}</div>-->
<!--                </div>-->
<!--                <i class="pi pi-calendar-check text-3xl"></i>-->
<!--              </div>-->
<!--&lt;!&ndash;              <p-progressBar [value]="stats.presentedProgress || 0" class="mt-3" [showValue]="false"></p-progressBar>&ndash;&gt;-->
<!--              <p-progressBar [value]="10" class="mt-3" [showValue]="false"></p-progressBar>-->
<!--            </p-card>-->
<!--          </div>-->
<!--          <div class="col-12 md:col-3">-->
<!--            <p-card class="h-full">-->
<!--              <div class="flex align-items-center justify-content-between">-->
<!--                <div>-->
<!--                  <div class="text-sm text-color-secondary">Manquées</div>-->
<!--                  <div class="text-2xl font-semibold">{{ 'stats.missed' }}</div>-->
<!--                </div>-->
<!--                <i class="pi pi-times-circle text-3xl"></i>-->
<!--              </div>-->
<!--&lt;!&ndash;              <p-progressBar [value]="stats.missedProgress || 0" class="mt-3" [showValue]="false" [mode]="'determinate'"></p-progressBar>&ndash;&gt;-->
<!--              <p-progressBar [value]="0" class="mt-3" [showValue]="false" [mode]="'determinate'"></p-progressBar>-->
<!--            </p-card>-->
<!--          </div>-->
<!--          <div class="col-12 md:col-3">-->
<!--            <p-card class="h-full">-->
<!--              <div class="flex align-items-center justify-content-between">-->
<!--                <div>-->
<!--                  <div class="text-sm text-color-secondary">Tests folklores (aujourd'hui)</div>-->
<!--                  <div class="text-2xl font-semibold">{{ 'stats.testsToday' }}</div>-->
<!--                </div>-->
<!--                <i class="pi pi-book text-3xl"></i>-->
<!--              </div>-->
<!--&lt;!&ndash;              <p-progressBar [value]="stats.testsProgress || 0" class="mt-3" [showValue]="false"></p-progressBar>&ndash;&gt;-->
<!--              <p-progressBar [value]="0" class="mt-3" [showValue]="false"></p-progressBar>-->
<!--            </p-card>-->
<!--          </div>-->
<!--          <div class="col-12 md:col-3">-->
<!--            <p-card class="h-full">-->
<!--              <div class="flex align-items-center justify-content-between">-->
<!--                <div>-->
<!--                  <div class="text-sm text-color-secondary">Score total</div>-->
<!--                  <div class="text-2xl font-semibold">{{ 'stats.totalScore' }}</div>-->
<!--                </div>-->
<!--                <i class="pi pi-trophy text-3xl"></i>-->
<!--              </div>-->
<!--&lt;!&ndash;              <p-progressBar [value]="stats.scoreProgress || 0" class="mt-3" [showValue]="false"></p-progressBar>&ndash;&gt;-->
<!--              <p-progressBar [value]="0" class="mt-3" [showValue]="false"></p-progressBar>-->
<!--            </p-card>-->
<!--          </div>-->
<!--        </div>-->
      </div>
    </div>
  </p-card>

  <!-- Tabs: Infos / Tableau / Activités -->
<!--  <p-tabView>-->
<!--    <p-tabPanel header="Mes informations">-->
<!--      <div class="grid">-->
<!--        <div class="col-12 lg:col-6">-->
<!--          <p-card header="Détails du profil" subheader="Informations générales" class="shadow-1">-->
<!--            <p-table [value]="userData" [tableStyle]="{ 'min-width': '24rem' }" responsiveLayout="scroll">-->
<!--              <ng-template pTemplate="header">-->
<!--                <tr>-->
<!--                  <th>Attribut</th>-->
<!--                  <th>Valeur</th>-->
<!--                </tr>-->
<!--              </ng-template>-->
<!--              <ng-template pTemplate="body" let-row>-->
<!--                <tr>-->
<!--                  <td class="font-medium">{{ row.name }}</td>-->
<!--                  <td>-->
<!--                    <ng-container [ngSwitch]="row.type">-->
<!--                      <span *ngSwitchCase="'text'">{{ row.value }}</span>-->
<!--                      <p-tag *ngSwitchCase="'tag'" [value]="row.value" severity="success"></p-tag>-->
<!--                      <p-chip *ngSwitchCase="'chip'" [label]="row.value"></p-chip>-->
<!--                      <span *ngSwitchDefault>{{ row.value }}</span>-->
<!--                    </ng-container>-->
<!--                  </td>-->
<!--                </tr>-->
<!--              </ng-template>-->
<!--            </p-table>-->
<!--          </p-card>-->
<!--        </div>-->
<!--        <div class="col-12 lg:col-6">-->
<!--          <p-card header="Statistiques détaillées" subheader="Bleusailles & tests">-->
<!--            <p-table [value]="detailedStats" responsiveLayout="scroll">-->
<!--              <ng-template pTemplate="header">-->
<!--                <tr>-->
<!--                  <th>Indicateur</th>-->
<!--                  <th>Valeur</th>-->
<!--                  <th>État</th>-->
<!--                </tr>-->
<!--              </ng-template>-->
<!--              <ng-template pTemplate="body" let-item>-->
<!--                <tr>-->
<!--                  <td>{{ item.label }}</td>-->
<!--                  <td>{{ item.value }}</td>-->
<!--                  <td>-->
<!--                    <p-tag [severity]="item.severity || 'info'" [value]="item.status"></p-tag>-->
<!--                  </td>-->
<!--                </tr>-->
<!--              </ng-template>-->
<!--            </p-table>-->
<!--          </p-card>-->
<!--        </div>-->
<!--      </div>-->
<!--    </p-tabPanel>-->

<!--    <p-tabPanel header="Activité récente">-->
<!--      <p-card>-->
<!--        <p-timeline [value]="timeline" align="alternate">-->
<!--          <ng-template pTemplate="opposite" let-event>-->
<!--            <small class="text-color-secondary">{{ event.date | date:'short' }}</small>-->
<!--          </ng-template>-->
<!--          <ng-template pTemplate="marker" let-event>-->
<!--            <span class="flex align-items-center justify-content-center w-2rem h-2rem border-circle">-->
<!--              <i [class]="event.icon"></i>-->
<!--            </span>-->
<!--          </ng-template>-->
<!--          <ng-template pTemplate="content" let-event>-->
<!--            <p-card [header]="event.title" [subheader]="event.subtitle">-->
<!--              <div class="text-color-secondary">{{ event.description }}</div>-->
<!--            </p-card>-->
<!--          </ng-template>-->
<!--        </p-timeline>-->
<!--      </p-card>-->
<!--    </p-tabPanel>-->

<!--    <p-tabPanel header="Classement & badges">-->
<!--      <div class="grid">-->
<!--        <div class="col-12 md:col-6">-->
<!--          <p-card header="Classement">-->
<!--            <p-table [value]="leaderboard" responsiveLayout="scroll">-->
<!--              <ng-template pTemplate="header">-->
<!--                <tr>-->
<!--                  <th>#</th>-->
<!--                  <th>Bleu</th>-->
<!--                  <th>Score</th>-->
<!--                </tr>-->
<!--              </ng-template>-->
<!--              <ng-template pTemplate="body" let-user let-i="rowIndex">-->
<!--                <tr>-->
<!--                  <td>{{ i + 1 }}</td>-->
<!--                  <td class="flex align-items-center gap-2">-->
<!--                    <p-avatar [image]="user.image" size="small"></p-avatar>-->
<!--                    <span>{{ user.name }}</span>-->
<!--                  </td>-->
<!--                  <td>-->
<!--                    <p-badge [value]="user.score" severity="warning"></p-badge>-->
<!--                  </td>-->
<!--                </tr>-->
<!--              </ng-template>-->
<!--            </p-table>-->
<!--          </p-card>-->
<!--        </div>-->
<!--        <div class="col-12 md:col-6">-->
<!--          <p-card header="Badges">-->
<!--            <div class="flex flex-wrap gap-2">-->
<!--              <p-chip *ngFor="let b of badges" [label]="b.label" [icon]="b.icon"></p-chip>-->
<!--            </div>-->
<!--          </p-card>-->
<!--        </div>-->
<!--      </div>-->
<!--    </p-tabPanel>-->
<!--  </p-tabView>-->


  <!-- Optional: Skeleton loading state -->
  <ng-container>
    <div class="grid">
      <div class="col-12 md:col-6">
        <p-skeleton width="100%" height="12rem" class="border-round"></p-skeleton>
      </div>
      <div class="col-12 md:col-6">
        <p-skeleton width="100%" height="12rem" class="border-round"></p-skeleton>
      </div>
    </div>
  </ng-container>
</div>

<!-- Footer spacer -->
<div class="h-5rem"></div>
